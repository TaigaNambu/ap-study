# 2. コンピュータシステム

## 2.1 ハードウェアとアーキテクチャ

### 1. CPUアーキテクチャ
* **パイプライン処理:** 命令の実行ステージ（取出し、解読、実行など）をずらして並列処理し、スループット（単位時間あたりの処理量）を向上させる技術。
* **スーパーパイプライン:** パイプラインを更に細分化して高速化する。
* **スーパースカラ:** 複数のパイプラインを用意し、複数の命令を同時に実行する。

### 2. メモリ階層
高速・小容量なものから順に、CPU(レジスタ) → キャッシュメモリ → 主記憶 → ディスクキャッシュ → 補助記憶。
* **キャッシュメモリ:** CPUと主記憶の速度差を埋める高速メモリ。SRAMが使われる。
* **実効メモリアクセス時間:** (キャッシュのアクセス時間 × ヒット率) + (主記憶のアクセス時間 × (1 - ヒット率))

### 3. ストレージ技術 (RAID)
* **RAID 0 (ストライピング):** データを分散書き込み。高速だが耐障害性はなし。
* **RAID 1 (ミラーリング):** 同じデータを2台に書き込む。信頼性は高いが容量効率は50%。
* **RAID 5:** データを分散し、パリティ（誤り訂正符号）も分散して書き込む。1台の故障まで復旧可能。
* **RAID 6:** パリティを2種類生成して書き込む。2台同時故障まで復旧可能。

## 2.2 システム構成と信頼性

### 4. システムの信頼性指標
* **MTBF (Mean Time Between Failures):** 平均故障間隔。「故障しにくさ」を表す。
* **MTTR (Mean Time To Repair):** 平均修理時間。「修理のしやすさ」を表す。
* **稼働率:** $MTBF / (MTBF + MTTR)$
* **直列システムの稼働率:** 稼働率A × 稼働率B （全体の信頼性は下がる）
* **並列システムの稼働率:** 1 - (1 - 稼働率A) × (1 - 稼働率B) （全体の信頼性は上がる）

### 5. OSの機能
* **タスクスケジューリング:** CPUの使用権をどのタスクに割り当てるか管理する。
    * **ラウンドロビン:** 一定時間（タイムスライス）ごとに順次切り替える。
* **仮想記憶:** 補助記憶の一部を主記憶のように扱い、主記憶容量以上のプログラムを実行可能にする技術。
    * **ページング方式:** ページ単位で管理。主記憶にないページが必要になると「ページフォールト」が発生し、ページインを行う。頻発すると「スラッシング」により処理能力が低下する。